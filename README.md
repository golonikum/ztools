# zetratools

Расширение для VS Code, созданное для повышения продуктивности разработки в экосистеме Zetra. Набор специализированных утилит, которые автоматизируют рутинные задачи и упрощают повседневную работу разработчика.

## Особенности

ZetraTools разработан специально для команд, работающих с множеством репозиториев и использующих архитектуру на основе Module Federation. Расширение интегрируется в VS Code и предоставляет удобные команды для управления проектами, зависимостями и репозиториями.

## Основные команды

### Zetra: Commit all workspace changes

Эта команда предназначена для одновременного коммита изменений во всех репозиториях рабочей области. Особенно полезна при работе над одной задачей, затрагивающей несколько проектов.

**Как это работает:**

1. Анализирует состояние каждого репозитория в рабочей области
2. Проверяет текущую ветку - коммит выполняется только в указанных ветках
3. Автоматически создает коммит с сообщением (если есть изменения)
4. Отправляет изменения на удаленный сервер
5. Открывает в браузере страницу создания Merge Request в GitLab

**Преимущества:**

- Экономит время при работе с несколькими репозиториями
- Стандартизирует процесс коммита и создания MR
- Снижает риск ошибок при ручном выполнении операций

### Zetra: List projects packages

Создает HTML-отчет о всех пакетах, используемых в проектах рабочей области. Эта функция критически важна для проектов, использующих Module Federation.

**Как это работает:**

1. Сканирует package.json файлы во всех проектах
2. Собирает информацию о версиях зависимостей
3. Генерирует интерактивный HTML-отчет
4. Подсвечивает пакеты с разными версиями в разных проектах

**Преимущества:**

- Обеспечивает согласованность версий пакетов между проектами
- Помогает избежать проблем с совместимостью в Module Federation
- Упрощает аудит зависимостей и их обновление

### Zetra: Clone all projects

Позволяет быстро клонировать все необходимые проекты в указанную директорию.

**Как это работает:**

1. Использует список проектов из настроек
2. Выполняет клонирование параллельно для ускорения процесса
3. Организует проекты в указанной директории

**Преимущества:**

- Значительно ускоряет настройку рабочего окружения (около 5 минут вместо часа ручной работы)
- Идеально подходит для быстрого разворачивания окружения на новом компьютере
- Обеспечивает структурированное расположение проектов

## Установка

1. Скачайте VSIX-файл последней версии из раздела релизов
2. В VS Code откройте палитру команд (Ctrl+Shift+P)
3. Выполните команду "Extensions: Install from VSIX..."
4. Выберите скачанный файл

## Сборка

Для создания VSIX-пакета расширения выполните:

```bash
# Установите зависимости
npm install

# Соберите расширение
npm run compile

# Упакуйте в VSIX
vsce package
```

## Настройка

Расширение требует настройки следующих параметров в VS Code (File > Preferences > Settings):

### zetratools.projectsPath

**Описание:** Путь к папке с проектами Zetra  
**Тип:** string  
**Пример:** `C:\Zetra`  
**Обязательный:** Да

### zetratools.gitDomain

**Описание:** URL-адрес домена Git хостинга  
**Тип:** string  
**Пример:** `https://gitlab.some.com`  
**Обязательный:** Да

### zetratools.targetBranches

**Описание:** Список веток, в которых разрешены коммиты  
**Тип:** array  
**Пример:** `["feature/awesome-feature", "hotfix/critical-bug"]`  
**Обязательный:** Нет (по умолчанию: ["master", "main"])

## Требования

- Visual Studio Code 1.60.0 или выше
- Node.js 14.0.0 или выше
- Git 2.20.0 или выше
- Доступ к репозиториям Zetra
